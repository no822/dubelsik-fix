# 음절 조합 FSM

## 상태

- 비어있음
- 초성만
- 초·중성
- 초·중·종성

## 입력

- 모음
- 자음
- 기타(숫자/기호/영문 등)

## 전이 표

| 상태       | 모음                                                                                                                                      | 자음                                                                                | 기타                                          |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- | --------------------------------------------- |
| 비어있음   | ㅇ 삽입, 중성 채움 → 초·중성                                                                                                              | 초성 채움 → 초성만                                                                  | 문자를 그대로 출력, 상태 비움                 |
| 초성만     | 중성 채움 → 초·중성                                                                                                                       | 현재 초성 flush 후 새 자음을 초성으로 → 초성만                                      | 현재 초성 flush 후 문자 출력, 상태 비움       |
| 초·중성    | 겹모음 합성 가능: 유지 → 초·중성<br>합성 불가: 앞 음절 flush, 새 음절 ㅇ+모음 → 초·중성                                                   | 종성에 자음 추가 → 초·중·종성                                                       | 초·중성 합성 flush 후 문자 출력, 상태 비움    |
| 초·중·종성 | 겹받침: 분리(앞=앞 음절, 뒤=새 초성+모음) → 초·중성<br>단일받침: 앞 음절은 받침 없이 flush, 종성을 새 초성으로 옮겨 모음과 결합 → 초·중성 | 겹받침 합성 시도: 성공 시 종성 갱신(상태 유지)<br>실패 시 flush 후 새 초성 → 초성만 | 초·중·종성 합성 flush 후 문자 출력, 상태 비움 |
